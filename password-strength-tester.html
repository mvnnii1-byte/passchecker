<!DOCTYPE html>
<html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ø£Ø¯Ø§Ø© Ø§Ø®ØªØ¨Ø§Ø± Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</title>
        <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Tahoma', 'Arial', 'Cairo', sans-serif;
            background: radial-gradient(circle at top, #4c6fff 0%, #141529 55%, #050514 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #111827;
        }

        .container {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 24px;
            box-shadow: 0 24px 80px rgba(15, 23, 42, 0.45);
            padding: 32px 28px 26px;
            max-width: 720px;
            width: 100%;
            border: 1px solid rgba(148, 163, 184, 0.35);
            backdrop-filter: blur(16px);
        }

        h1 {
            color: #0f172a;
            margin-bottom: 6px;
            text-align: center;
            font-size: 2.1em;
            letter-spacing: 0.03em;
        }

        .subtitle {
            text-align: center;
            color: #6b7280;
            margin-bottom: 26px;
            font-size: 0.95em;
        }

        .input-group {
            margin-bottom: 24px;
        }

        label {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
            color: #111827;
            font-weight: 600;
            font-size: 0.95em;
        }

        .label-hint {
            font-size: 0.8em;
            font-weight: 400;
            color: #9ca3af;
        }

        input[type="password"],
        input[type="text"] {
            width: 100%;
            padding: 14px 44px 14px 44px;
            border: 1px solid #e5e7eb;
            border-radius: 999px;
            font-size: 15px;
            transition: all 0.2s ease;
            background: #f9fafb;
            color: #111827;
        }

        input[type="password"]:focus,
        input[type="text"]:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.15);
            background: #ffffff;
        }

        .toggle-visibility {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: #eef2ff;
            border: none;
            cursor: pointer;
            color: #4338ca;
            font-size: 13px;
            padding: 6px 10px;
            border-radius: 999px;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: background 0.18s, transform 0.12s, box-shadow 0.18s;
            box-shadow: 0 2px 6px rgba(79, 70, 229, 0.18);
        }

        .toggle-visibility:hover {
            background: #e0e7ff;
            transform: translateY(-50%) translateY(-1px);
            box-shadow: 0 4px 10px rgba(79, 70, 229, 0.28);
        }

        .toggle-visibility:active {
            transform: translateY(-50%) translateY(0);
            box-shadow: 0 1px 3px rgba(79, 70, 229, 0.25);
        }

        .input-wrapper {
            position: relative;
        }

        .input-icon {
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 17px;
            opacity: 0.7;
        }

        .strength-meter {
            position: relative;
            height: 8px;
            background: #e5e7eb;
            border-radius: 999px;
            margin-top: 16px;
            overflow: hidden;
        }

        .strength-fill {
            height: 100%;
            width: 0%;
            border-radius: inherit;
            transition: width 0.25s ease, background 0.25s ease;
        }

        .strength-fill.weak {
            background: linear-gradient(90deg, #f97373, #ef4444);
            width: 34%;
        }

        .strength-fill.medium {
            background: linear-gradient(90deg, #f59e0b, #f97316);
            width: 67%;
        }

        .strength-fill.strong {
            background: linear-gradient(90deg, #22c55e, #16a34a);
            width: 100%;
        }

        .strength-label {
            margin-top: 10px;
            font-weight: 600;
            font-size: 14px;
            text-align: center;
        }

        .strength-label.weak {
            color: #ef4444;
        }

        .strength-label.medium {
            color: #f97316;
        }

        .strength-label.strong {
            color: #16a34a;
        }

        .score {
            text-align: center;
            font-size: 2.4em;
            font-weight: 800;
            margin: 18px 0 6px;
            color: #111827;
        }

        .score-caption {
            text-align: center;
            font-size: 12px;
            color: #9ca3af;
        }

        .checks {
            margin-top: 22px;
        }

        .check-item {
            display: flex;
            align-items: center;
            padding: 11px 12px;
            margin-bottom: 7px;
            border-radius: 10px;
            background: #f9fafb;
            transition: background 0.2s ease, transform 0.12s ease, box-shadow 0.2s ease;
            font-size: 13px;
        }

        .check-item.pass {
            background: #ecfdf3;
            color: #166534;
            box-shadow: 0 1px 3px rgba(22, 163, 74, 0.18);
        }

        .check-item.fail {
            background: #fef2f2;
            color: #b91c1c;
            box-shadow: 0 1px 3px rgba(220, 38, 38, 0.18);
        }

        .check-icon {
            margin-left: 8px;
            font-size: 16px;
            font-weight: bold;
            min-width: 20px;
            text-align: center;
        }

        .tips {
            margin-top: 24px;
            padding: 18px 18px 16px;
            background: #f9fafb;
            border-radius: 16px;
            border-right: 4px solid #4f46e5;
        }

        .tips h3 {
            color: #111827;
            margin-bottom: 10px;
            font-size: 1.02em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tips ul {
            list-style: none;
            padding-left: 0;
        }

        .tips li {
            padding: 6px 0;
            padding-right: 22px;
            position: relative;
            color: #4b5563;
            font-size: 13px;
        }

        .tips li:before {
            content: "â€¢";
            position: absolute;
            right: 4px;
            color: #4f46e5;
            font-weight: 900;
            font-size: 12px;
            top: 11px;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 12px;
            margin-top: 18px;
        }

        .stat-item {
            text-align: center;
            padding: 10px 6px 9px;
            background: #f9fafb;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
        }

        .stat-value {
            font-size: 1.3em;
            font-weight: 700;
            color: #4f46e5;
        }

        .stat-label {
            font-size: 0.75em;
            color: #6b7280;
            margin-top: 3px;
        }

        .generator-settings {
            margin-top: 18px;
            padding: 14px 14px 12px;
            border-radius: 14px;
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
        }

        .generator-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9em;
            color: #111827;
        }

        .generator-header span {
            font-weight: 600;
        }

        .length-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .length-row label {
            margin: 0;
            font-weight: 500;
            font-size: 0.85em;
        }

        .length-value {
            font-size: 0.85em;
            color: #4b5563;
            min-width: 38px;
            text-align: center;
            padding: 3px 8px;
            border-radius: 999px;
            background: #e5e7eb;
        }

        .length-slider {
            flex: 1;
        }

        .length-slider input[type="range"] {
            width: 100%;
        }

        .options-row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 4px;
        }

        .option-pill {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 999px;
            background: #e5e7eb;
            font-size: 0.8em;
            color: #374151;
        }

        .option-pill input {
            margin: 0;
        }

        .generator-hint {
            font-size: 0.75em;
            color: #6b7280;
        }

        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 18px;
            gap: 8px;
            flex-wrap: wrap;
        }

        .toolbar-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .btn {
            border-radius: 999px;
            border: none;
            padding: 7px 13px;
            font-size: 12px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: background 0.18s, transform 0.12s, box-shadow 0.18s, color 0.18s;
            font-weight: 500;
            white-space: nowrap;
        }

        .btn-primary {
            background: #4f46e5;
            color: #eef2ff;
            box-shadow: 0 2px 6px rgba(79, 70, 229, 0.28);
        }

        .btn-primary:hover {
            background: #4338ca;
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(79, 70, 229, 0.35);
        }

        .btn-primary:active {
            transform: translateY(0);
            box-shadow: 0 1px 3px rgba(79, 70, 229, 0.35);
        }

        .btn-ghost {
            background: #f3f4f6;
            color: #374151;
        }

        .btn-ghost:hover {
            background: #e5e7eb;
            transform: translateY(-1px);
        }

        .btn-ghost:active {
            transform: translateY(0);
        }

        .badge-strength {
            padding: 3px 8px;
            border-radius: 999px;
            font-size: 11px;
            font-weight: 600;
        }

        .badge-weak {
            background: #fee2e2;
            color: #b91c1c;
        }

        .badge-medium {
            background: #ffedd5;
            color: #b45309;
        }

        .badge-strong {
            background: #dcfce7;
            color: #15803d;
        }

        @media (max-width: 640px) {
            .container {
                padding: 22px 16px 18px;
                border-radius: 18px;
            }

            h1 {
                font-size: 1.6em;
            }

            .toolbar {
                flex-direction: column;
                align-items: flex-start;
            }

            input[type="password"],
            input[type="text"] {
                border-radius: 999px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
            <h1>ğŸ”’ Ø£Ø¯Ø§Ø© Ø§Ø®ØªØ¨Ø§Ø± Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h1>
            <p class="subtitle">Ø§Ø®ØªØ¨Ø± Ø£Ù…Ø§Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŒ Ø£Ù†Ø´Ø¦ ÙƒÙ„Ù…Ø§Øª Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©ØŒ ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù†ØµØ§Ø¦Ø­ Ù…Ø®ØµØµØ© Ù„Ù„ØªØ­Ø³ÙŠÙ†</p>
        
            <div class="input-group">
                <label for="password">
                    <span>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</span>
                    <span class="label-hint">Ù„Ù† ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¥Ù„Ù‰ Ø£ÙŠ Ø®Ø§Ø¯Ù… â€“ ÙŠØªÙ… Ø§Ù„ÙØ­Øµ Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙŠ Ù…ØªØµÙØ­Ùƒ ÙÙ‚Ø·</span>
                </label>
                <div class="input-wrapper">
                    <span class="input-icon">ğŸ”‘</span>
                    <input type="password" id="password" placeholder="Ø§ÙƒØªØ¨ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‡Ù†Ø§..." autocomplete="off">
                    <button class="toggle-visibility" onclick="toggleVisibility()">
                        <span id="toggleIcon">ğŸ‘ï¸</span>
                        <span id="toggleText">Ø¥Ø¸Ù‡Ø§Ø±</span>
                    </button>
                </div>
            <div class="strength-meter">
                <div class="strength-fill" id="strengthFill"></div>
            </div>
                <div class="strength-label" id="strengthLabel">
                    <span>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±</span>
                </div>
                <div class="score" id="score">â€”</div>
                <div class="score-caption">
                    Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù…Ù† 100ØŒ ÙƒÙ„Ù…Ø§ Ø§Ù‚ØªØ±Ø¨Øª Ù…Ù† 100 ÙƒØ§Ù†Øª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø£Ù‚ÙˆÙ‰
                </div>
        </div>

        <div class="toolbar">
            <div class="toolbar-group">
                <button class="btn btn-primary" onclick="generatePassword()">
                    ğŸ”
                    <span>ØªÙˆÙ„ÙŠØ¯ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©</span>
                </button>
                <button class="btn btn-ghost" onclick="copyPassword()">
                    ğŸ“‹
                    <span>Ù†Ø³Ø® ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</span>
                </button>
            </div>
            <div>
                <span id="copiedHint" style="font-size: 11px; color: #22c55e; opacity: 0; transition: opacity 0.2s;">âœ” ØªÙ… Ø§Ù„Ù†Ø³Ø®</span>
            </div>
        </div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="length">0</div>
                <div class="stat-label">Ø§Ù„Ø·ÙˆÙ„</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="entropy">0</div>
                <div class="stat-label">Ø§Ù„Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ (Ø¨Øª)</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="timeToCrack">â€”</div>
                <div class="stat-label">ÙˆÙ‚Øª Ø§Ù„Ø§Ø®ØªØ±Ø§Ù‚</div>
            </div>
        </div>

        <div class="generator-settings">
            <div class="generator-header">
                <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªÙˆÙ„ÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</span>
                <span style="font-size: 0.8em; color:#6b7280;">ÙŠÙ…ÙƒÙ†Ùƒ ØªØ®ØµÙŠØµ Ø§Ù„Ø·ÙˆÙ„ ÙˆÙ†ÙˆØ¹ Ø§Ù„Ø£Ø­Ø±Ù</span>
            </div>
            <div class="length-row">
                <label for="lengthRange">Ø§Ù„Ø·ÙˆÙ„:</label>
                <div class="length-slider">
                    <input id="lengthRange" type="range" min="8" max="32" value="16" oninput="updateLengthLabel(this.value)">
                </div>
                <div class="length-value" id="lengthValue">16 Ø­Ø±Ù</div>
            </div>
            <div class="options-row">
                <label class="option-pill">
                    <input type="checkbox" id="optLower" checked>
                    <span>Ø£Ø­Ø±Ù ØµØºÙŠØ±Ø© (a-z)</span>
                </label>
                <label class="option-pill">
                    <input type="checkbox" id="optUpper" checked>
                    <span>Ø£Ø­Ø±Ù ÙƒØ¨ÙŠØ±Ø© (A-Z)</span>
                </label>
                <label class="option-pill">
                    <input type="checkbox" id="optNumbers" checked>
                    <span>Ø£Ø±Ù‚Ø§Ù… (0-9)</span>
                </label>
                <label class="option-pill">
                    <input type="checkbox" id="optSymbols" checked>
                    <span>Ø±Ù…ÙˆØ² Ø®Ø§ØµØ© (!@#)</span>
                </label>
            </div>
            <div class="generator-hint">
                ÙŠÙØ¶Ù‘Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·ÙˆÙ„ Ù„Ø§ ÙŠÙ‚Ù„ Ø¹Ù† 12 Ø­Ø±ÙØ§Ù‹ Ù…Ø¹ ØªÙØ¹ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ø£Ù…Ø§Ù†.
            </div>
        </div>

        <div class="checks" id="checks"></div>

        <div class="tips" id="tips">
            <h3>ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù„ØªÙ‚ÙˆÙŠØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
            <ul id="tipsList">
                <li>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…Ø®ØµØµØ©</li>
            </ul>
        </div>
    </div>

    <script>
        const passwordInput = document.getElementById('password');
        const strengthFill = document.getElementById('strengthFill');
        const strengthLabel = document.getElementById('strengthLabel');
        const scoreElement = document.getElementById('score');
        const checksContainer = document.getElementById('checks');
        const tipsList = document.getElementById('tipsList');
        const lengthStat = document.getElementById('length');
        const entropyStat = document.getElementById('entropy');
        const timeToCrackStat = document.getElementById('timeToCrack');
        const toggleIcon = document.getElementById('toggleIcon');
        const toggleText = document.getElementById('toggleText');
        const copiedHint = document.getElementById('copiedHint');
        const lengthRange = document.getElementById('lengthRange');
        const lengthValue = document.getElementById('lengthValue');
        const optLower = document.getElementById('optLower');
        const optUpper = document.getElementById('optUpper');
        const optNumbers = document.getElementById('optNumbers');
        const optSymbols = document.getElementById('optSymbols');

        // Common weak passwords and patterns
        const commonPasswords = ['password', '123456', 'password123', 'admin', 'qwerty', 'letmein', 'welcome', 'monkey', '1234567890', 'abc123'];
        const commonPatterns = [
            /(.)\1{2,}/,  // Repeated characters (aaa, 111)
            /(012|123|234|345|456|567|678|789|890)/,  // Sequential numbers
            /(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz)/i,  // Sequential letters
            /(qwerty|asdf|zxcv)/i,  // Keyboard patterns
        ];

        passwordInput.addEventListener('input', analyzePassword);

        function toggleVisibility() {
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.textContent = 'ğŸ™ˆ';
                toggleText.textContent = 'Ø¥Ø®ÙØ§Ø¡';
            } else {
                passwordInput.type = 'password';
                toggleIcon.textContent = 'ğŸ‘ï¸';
                toggleText.textContent = 'Ø¥Ø¸Ù‡Ø§Ø±';
            }
        }

        function updateLengthLabel(value) {
            if (!lengthValue) return;
            lengthValue.textContent = value + ' Ø­Ø±Ù';
        }

        function generatePassword() {
            const length = parseInt(lengthRange ? lengthRange.value : '16', 10) || 16;

            const lowers = 'abcdefghijklmnopqrstuvwxyz';
            const uppers = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const numbers = '0123456789';
            const specials = '!@#$%^&*()-_=+[]{};:,.<>/?';

            const pools = [];
            if (!optLower || !optUpper || !optNumbers || !optSymbols) return;

            if (optLower.checked) pools.push(lowers);
            if (optUpper.checked) pools.push(uppers);
            if (optNumbers.checked) pools.push(numbers);
            if (optSymbols.checked) pools.push(specials);

            if (pools.length === 0) {
                alert('Ù…Ù† ÙØ¶Ù„Ùƒ ÙØ¹Ù‘Ù„ Ù†ÙˆØ¹Ø§Ù‹ ÙˆØ§Ø­Ø¯Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù…Ù† Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø­Ø±Ù Ù„ØªÙˆÙ„ÙŠØ¯ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±.');
                return;
            }

            let all = pools.join('');

            // Ensure at least one character from each selected pool
            let result = '';
            pools.forEach(pool => {
                result += pool[Math.floor(Math.random() * pool.length)];
            });

            for (let i = result.length; i < length; i++) {
                const idx = Math.floor(Math.random() * all.length);
                result += all[idx];
            }

            // Shuffle to avoid predictable order
            result = result.split('').sort(() => Math.random() - 0.5).join('');

            passwordInput.value = result;
            analyzePassword();
        }

        function copyPassword() {
            const pwd = passwordInput.value;
            if (!pwd) {
                return;
            }
            navigator.clipboard.writeText(pwd).then(() => {
                if (!copiedHint) return;
                copiedHint.style.opacity = '1';
                setTimeout(() => {
                    copiedHint.style.opacity = '0';
                }, 1200);
            }).catch(() => {});
        }

        function analyzePassword() {
            const password = passwordInput.value;
            
            if (!password) {
                resetDisplay();
                return;
            }

            const analysis = calculateStrength(password);
            updateDisplay(analysis);
        }

        function calculateStrength(password) {
            let score = 0;
            let checks = [];
            let tips = [];

            // Length check
            const length = password.length;
            lengthStat.textContent = length;
            
            if (length >= 12) {
                score += 20;
                checks.push({ text: `Ø§Ù„Ø·ÙˆÙ„: ${length} Ø­Ø±Ù (Ù…Ù…ØªØ§Ø²)`, pass: true });
            } else if (length >= 8) {
                score += 10;
                checks.push({ text: `Ø§Ù„Ø·ÙˆÙ„: ${length} Ø­Ø±Ù (Ø¬ÙŠØ¯)`, pass: true });
                tips.push('Ø§Ø³ØªØ®Ø¯Ù… 12 Ø­Ø±ÙØ§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ø£Ù…Ø§Ù† Ø£ÙØ¶Ù„');
            } else {
                checks.push({ text: `Ø§Ù„Ø·ÙˆÙ„: ${length} Ø­Ø±Ù (Ù‚ØµÙŠØ± Ø¬Ø¯Ø§Ù‹)`, pass: false });
                tips.push('Ø§Ø³ØªØ®Ø¯Ù… 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ (12+ Ù…ÙˆØµÙ‰ Ø¨Ù‡)');
            }

            // Character variety checks
            const hasLower = /[a-z]/.test(password);
            const hasUpper = /[A-Z]/.test(password);
            const hasNumber = /[0-9]/.test(password);
            const hasSpecial = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password);

            if (hasLower) {
                score += 10;
                checks.push({ text: 'ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø­Ø±Ù ØµØºÙŠØ±Ø©', pass: true });
            } else {
                checks.push({ text: 'ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø­Ø±Ù ØµØºÙŠØ±Ø©', pass: false });
                tips.push('Ø£Ø¶Ù Ø£Ø­Ø±ÙØ§Ù‹ ØµØºÙŠØ±Ø© (a-z)');
            }

            if (hasUpper) {
                score += 10;
                checks.push({ text: 'ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø­Ø±Ù ÙƒØ¨ÙŠØ±Ø©', pass: true });
            } else {
                checks.push({ text: 'ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø­Ø±Ù ÙƒØ¨ÙŠØ±Ø©', pass: false });
                tips.push('Ø£Ø¶Ù Ø£Ø­Ø±ÙØ§Ù‹ ÙƒØ¨ÙŠØ±Ø© (A-Z)');
            }

            if (hasNumber) {
                score += 10;
                checks.push({ text: 'ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø±Ù‚Ø§Ù…', pass: true });
            } else {
                checks.push({ text: 'ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø±Ù‚Ø§Ù…', pass: false });
                tips.push('Ø£Ø¶Ù Ø£Ø±Ù‚Ø§Ù…Ø§Ù‹ (0-9)');
            }

            if (hasSpecial) {
                score += 15;
                checks.push({ text: 'ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±Ù…ÙˆØ² Ø®Ø§ØµØ©', pass: true });
            } else {
                checks.push({ text: 'ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±Ù…ÙˆØ² Ø®Ø§ØµØ©', pass: false });
                tips.push('Ø£Ø¶Ù Ø±Ù…ÙˆØ²Ø§Ù‹ Ø®Ø§ØµØ© (!@#$%^&*ØŒ Ø¥Ù„Ø®)');
            }

            // Character set size
            const uniqueChars = new Set(password).size;
            const charSetSize = (hasLower ? 26 : 0) + (hasUpper ? 26 : 0) + (hasNumber ? 10 : 0) + (hasSpecial ? 32 : 0);

            // Calculate entropy (approx.)
            let entropy = 0;
            if (charSetSize > 0 && length > 0) {
                entropy = length * Math.log2(charSetSize);
            }
            entropyStat.textContent = entropy.toFixed(1);

            // Time to crack estimation (assuming 10^9 guesses per second)
            const guessesPerSecond = 1e9;
            const secondsInYear = 60 * 60 * 24 * 365;
            let timeToCrackYears = 0;
            if (charSetSize > 0 && length > 0) {
                const maxGuesses = Math.pow(charSetSize, length);
                const avgGuesses = maxGuesses / 2;
                timeToCrackYears = avgGuesses / (guessesPerSecond * secondsInYear);
            }
            updateTimeToCrack(timeToCrackYears);

            // Check for common passwords
            const isCommon = commonPasswords.some(common => 
                password.toLowerCase().includes(common.toLowerCase())
            );
            if (isCommon) {
                score -= 30;
                checks.push({ text: 'ÙŠØªØ¬Ù†Ø¨ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©', pass: false });
                tips.push('ØªØ¬Ù†Ø¨ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© Ù…Ø«Ù„ "password" Ø£Ùˆ "123456"');
            } else {
                score += 10;
                checks.push({ text: 'ÙŠØªØ¬Ù†Ø¨ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©', pass: true });
            }

            // Check for patterns
            let hasPattern = false;
            for (const pattern of commonPatterns) {
                if (pattern.test(password)) {
                    hasPattern = true;
                    break;
                }
            }
            if (hasPattern) {
                score -= 15;
                checks.push({ text: 'ÙŠØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©', pass: false });
                tips.push('ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø­Ø±Ù Ø§Ù„Ù…ØªØ³Ù„Ø³Ù„Ø© (123ØŒ abc) Ø£Ùˆ Ø§Ù„Ø£Ø­Ø±Ù Ø§Ù„Ù…ÙƒØ±Ø±Ø© (aaa)');
            } else {
                score += 10;
                checks.push({ text: 'ÙŠØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©', pass: true });
            }

            // Check for personal information patterns
            const hasPersonalInfo = /(name|birthday|date|year|19|20)\d{0,4}/i.test(password);
            if (hasPersonalInfo) {
                score -= 10;
                checks.push({ text: 'ÙŠØªØ¬Ù†Ø¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©', pass: false });
                tips.push('ØªØ¬Ù†Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© Ù…Ø«Ù„ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø£Ùˆ Ø£Ø¹ÙŠØ§Ø¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ø£Ùˆ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®');
            } else {
                checks.push({ text: 'ÙŠØªØ¬Ù†Ø¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©', pass: true });
            }

            // Uniqueness bonus
            if (uniqueChars / length > 0.7) {
                score += 5;
                checks.push({ text: 'ØªÙ†ÙˆØ¹ Ø¬ÙŠØ¯ ÙÙŠ Ø§Ù„Ø£Ø­Ø±Ù', pass: true });
            } else if (uniqueChars / length < 0.5) {
                score -= 10;
                checks.push({ text: 'Ø£Ø­Ø±Ù Ù…ÙƒØ±Ø±Ø© ÙƒØ«ÙŠØ±Ø©', pass: false });
                tips.push('Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø­Ø±ÙØ§Ù‹ Ø£ÙƒØ«Ø± ØªÙ†ÙˆØ¹Ø§Ù‹ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ØªÙƒØ±Ø§Ø± Ù†ÙØ³ Ø§Ù„Ø£Ø­Ø±Ù');
            }

            // Normalize score
            score = Math.max(0, Math.min(100, score));

            // Additional tips based on score
            if (score < 40) {
                tips.push('ÙÙƒØ± ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ø¨Ø§Ø±Ø© Ù…Ø±ÙˆØ± Ø·ÙˆÙŠÙ„Ø© Ù…ÙƒÙˆÙ‘Ù†Ø© Ù…Ù† Ø¹Ø¯Ø© ÙƒÙ„Ù…Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ÙƒÙ„Ù…Ø© Ù‚ØµÙŠØ±Ø©.');
                tips.push('ØªØ¬Ù†Ù‘Ø¨ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙØ³ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙÙŠ Ø£ÙƒØ«Ø± Ù…Ù† Ù…ÙˆÙ‚Ø¹ Ø£Ùˆ Ø®Ø¯Ù…Ø©.');
                tips.push('Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¯ÙŠØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ù„ØªÙˆÙ„ÙŠØ¯ ÙˆØªØ®Ø²ÙŠÙ† ÙƒÙ„Ù…Ø§Øª Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ© ÙˆÙØ±ÙŠØ¯Ø© Ù„ÙƒÙ„ Ø®Ø¯Ù…Ø©.');
            } else if (score < 70) {
                tips.push('ÙŠÙ…ÙƒÙ†Ùƒ ØªÙ‚ÙˆÙŠØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø£ÙƒØ«Ø± Ø¨Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø·ÙˆÙ„ ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø±Ù…ÙˆØ² ÙˆØ§Ù„Ø£Ø­Ø±Ù Ø§Ù„Ù…ØªÙ†ÙˆØ¹Ø©.');
                tips.push('Ø­Ø§ÙˆÙ„ Ø£Ù„Ø§ ØªØ­ØªÙˆÙŠ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ Ø´ÙŠØ¡ ÙŠÙ…ÙƒÙ† ØªØ®Ù…ÙŠÙ†Ù‡ Ù…Ù† Ø­Ø³Ø§Ø¨Ø§ØªÙƒ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©.');
            }

            return {
                score,
                checks,
                tips,
                strength: score < 40 ? 'Ø¶Ø¹ÙŠÙ' : score < 70 ? 'Ù…ØªÙˆØ³Ø·' : 'Ù‚ÙˆÙŠ'
            };
        }

        function updateTimeToCrack(years) {
            if (!isFinite(years) || years <= 0) {
                timeToCrackStat.textContent = '< 1 Ø«';
                return;
            }

            if (years < 1 / (365 * 24 * 60 * 60)) {
                timeToCrackStat.textContent = '< 1 Ø«';
            } else if (years < 1 / 365) {
                const seconds = years * 365 * 24 * 60 * 60;
                timeToCrackStat.textContent = `${Math.round(seconds)}Ø«`;
            } else if (years < 1 / 24) {
                const minutes = years * 365 * 24 * 60;
                timeToCrackStat.textContent = `${Math.round(minutes)}Ø¯`;
            } else if (years < 1 / 365) {
                const hours = years * 365 * 24;
                timeToCrackStat.textContent = `${Math.round(hours)}Ø³`;
            } else if (years < 1) {
                const days = years * 365;
                timeToCrackStat.textContent = `${Math.round(days)}ÙŠ`;
            } else if (years < 1000) {
                timeToCrackStat.textContent = `${Math.round(years)}Ø³`;
            } else if (years < 1000000) {
                timeToCrackStat.textContent = `${(years / 1000).toFixed(1)} Ø£Ù„Ù Ø³`;
            } else {
                timeToCrackStat.textContent = `${(years / 1000000).toFixed(1)} Ù…Ù„ÙŠÙˆÙ† Ø³`;
            }
        }

        function updateDisplay(analysis) {
            // Update score
            scoreElement.textContent = analysis.score;
            const strengthClass = analysis.strength === 'Ø¶Ø¹ÙŠÙ' ? 'weak' : analysis.strength === 'Ù…ØªÙˆØ³Ø·' ? 'medium' : 'strong';
            scoreElement.style.color = strengthClass === 'weak' ? '#ff4757' : 
                                      strengthClass === 'medium' ? '#ffa502' : '#2ed573';

            // Update strength meter
            strengthFill.className = 'strength-fill ' + strengthClass;
            
            // Update strength label
            strengthLabel.textContent = 'ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± ' + analysis.strength;
            strengthLabel.className = 'strength-label ' + strengthClass;

            // Update checks
            checksContainer.innerHTML = '';
            analysis.checks.forEach(check => {
                const checkItem = document.createElement('div');
                checkItem.className = `check-item ${check.pass ? 'pass' : 'fail'}`;
                checkItem.innerHTML = `
                    <span class="check-icon">${check.pass ? 'âœ“' : 'âœ—'}</span>
                    <span>${check.text}</span>
                `;
                checksContainer.appendChild(checkItem);
            });

            // Update tips
            if (analysis.tips.length > 0) {
                tipsList.innerHTML = analysis.tips.map(tip => `<li>${tip}</li>`).join('');
            } else {
                tipsList.innerHTML = '<li>Ù…Ù…ØªØ§Ø²! ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©. Ø§Ø­ØªÙØ¸ Ø¨Ù‡Ø§ Ø¨Ø£Ù…Ø§Ù† ÙˆÙ„Ø§ ØªØ´Ø§Ø±ÙƒÙ‡Ø§ Ù…Ø¹ Ø£ÙŠ Ø´Ø®Øµ.</li>';
            }
        }

        function resetDisplay() {
            strengthFill.className = 'strength-fill';
            strengthFill.style.width = '0%';
            strengthLabel.textContent = 'Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±';
            strengthLabel.className = 'strength-label';
            scoreElement.textContent = 'â€”';
            checksContainer.innerHTML = '';
            tipsList.innerHTML = '<li>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…Ø®ØµØµØ©</li>';
            lengthStat.textContent = '0';
            entropyStat.textContent = '0';
            timeToCrackStat.textContent = 'â€”';
        }
    </script>
</body>
</html>
